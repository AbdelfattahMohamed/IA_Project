<link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
@model IEnumerable<TipsTravels_System.Models.Post>

@{
    ViewBag.Title = "Index";
}

<h2 class="display-2 header_h2">Posts Page</h2>
<div class="row">
    <div class="col-md-12">
        <nav class="navbar navbar-dark bg-dark">
            <form class="form-inline">
                <input class="form-control col-md-mr-4 mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-success my-2 my-sm-0" type="submit">Search</button>
            </form>
        </nav>
    </div>        

</div>





<p>
    @Html.ActionLink("Create New", "Create")
</p>

<table class="table table-striped table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.TripTitle)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TripDetails)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PostDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TripDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TripDestination)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TripImage)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TripPrice)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsApproved)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Person.FName)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.TripTitle)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TripDetails)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PostDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TripDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TripDestination)
            </td>
            @* <td>
                    @Html.DisplayFor(modelItem => item.TripImage)
                </td>*@
            <td>
                @if (item.TripImage != null)
                {
                    <img src='data:image/png;base64,@Convert.ToBase64String(item.TripImage)' alt="" height=200 width=200 />
                }
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TripPrice)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.Person.FName)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.PostID }) |
                @Html.ActionLink("Details", "Details", new { id = item.PostID }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.PostID })
            </td>
        </tr>
    }

</table>
